(()=>{"use strict";function e(e,t){fetch(e).then((e=>{if(e.ok)return e.json();throw new Error("something went wrong:(")})).then((e=>{console.log(e),function(e){let t=document.querySelector(".books_container");for(let n of e.items){let e=document.createElement("div");e.setAttribute("class","_b");let r=document.createElement("img");r.setAttribute("data",n.id),r.setAttribute("class","cover"),r.src=n.volumeInfo.imageLinks.thumbnail;let s=document.createElement("span");s.setAttribute("data",n.id),s.setAttribute("class","authors"),s.innerHTML=n.volumeInfo.authors;let o=document.createElement("span");o.setAttribute("data",n.id),o.setAttribute("class","title"),o.innerHTML=n.volumeInfo.title;let c=document.createElement("div");c.setAttribute("class","ratingDiv");let l=document.createElement("div");l.setAttribute("class","ratingActive"),c.appendChild(l),["star1","star2","star3","star4","star5"].forEach((function(e){let t=document.createElement("div");t.className="ratingBody";let n=document.createElement("div");n.className="starContainer";let r=document.createElement("input");r.className="star",r.type="radio",r.innerHTML=e,n.appendChild(r),t.appendChild(n),c.appendChild(t)}));let a=n.volumeInfo.averageRating,i=n.volumeInfo.ratingsCount;if(a){let e=document.createElement("span");e.setAttribute("data",n.id),e.setAttribute("class","ratingNum"),e.innerHTML=i+" reviews",c.appendChild(e)}else c.style.display="none";let u=n.volumeInfo.description,d=document.createElement("div");d.setAttribute("data",n.id),d.setAttribute("class","descriptionDiv");let m=document.createElement("p");m.setAttribute("data",n.id),m.setAttribute("class","description"),m.innerText=u;let p=document.createElement("button");p.setAttribute("class","buyBtn"),p.innerHTML="buy now",e.appendChild(r),e.appendChild(s),e.appendChild(o),e.appendChild(c),e.appendChild(d),d.appendChild(m),e.appendChild(p),t.appendChild(e)}}(e)})).catch((e=>{console.log(e)}))}const t=document.querySelector(".slider-content-container"),n=Array.from(t.children),r=document.querySelector(".circles-btn"),s=Array.from(r.children),o=n[0].getBoundingClientRect().width;n.forEach(((e,t)=>{e.style.left=o*t+"px"}));const c=(e,t,n)=>{e.style.transform="translateX(-"+n.style.left,t.classList.remove("currentSlide"),n.classList.add("currentSlide")};r.addEventListener("click",(e=>{const o=e.target.closest("button");if(!o)return;const l=t.querySelector(".currentSlide"),a=r.querySelector(".currentSlide"),i=s.findIndex((e=>e===o)),u=n[i];c(t,l,u),a.classList.remove("currentSlide"),o.classList.add("currentSlide")}));const l=document.querySelector(".loadMore");document.querySelectorAll(".buyBtn");const a=document.querySelector(".books_container"),i=document.querySelector(".numOfBooks");function u(e){if(e.classList.contains("InCartBtn")){e.innerHTML="buy now";let t=localStorage.getItem("count");t=parseInt(t),t?(localStorage.setItem("count",t-2),i.innerHTML=t):(localStorage.setItem("count",0),i.innerHTML=t=0)}else e.innerHTML="in the cart";e.classList.toggle("InCartBtn")}function d(e){if(e.classList.contains("buyBtn")){let e=localStorage.getItem("count");e=parseInt(e),e?(localStorage.setItem("count",e+1),i.innerHTML=e+1):(localStorage.setItem("count",1),i.innerHTML=e=1)}}window.onload=()=>{e('https://www.googleapis.com/books/v1/volumes?q="subject:Architecture"&key=AIzaSyDEhE1R69ln4GEYTn044O5b6nb1jByNtwA&printType=books&startIndex=0&maxResults=6&langRestrict=en')},setInterval((()=>(()=>{let e=t.querySelector(".currentSlide"),r=e.nextElementSibling;n[2]===e&&(t.style.transition="none",r=n[0]),c(t,e,r)})()),5e3),function(){const e=document.querySelector(".genresUl");e.getElementsByClassName("genre"),e.addEventListener("click",(e=>{var t=e.target;if(t.closest(".genre")){const e=document.getElementsByClassName("_active");for(var n=0;n<e.length;n++)e[0].className="genre",t.classList.add("_active")}}))}(),l.addEventListener("click",(()=>{console.log("heh"),e('https://www.googleapis.com/books/v1/volumes?q="subject:Architecture"&key=AIzaSyDEhE1R69ln4GEYTn044O5b6nb1jByNtwA&printType=books&startIndex=0&maxResults=6&langRestrict=en')})),function(){const t=new URL('https://www.googleapis.com/books/v1/volumes?q="subject:Architecture"&key=AIzaSyDEhE1R69ln4GEYTn044O5b6nb1jByNtwA&printType=books&startIndex=0&maxResults=6&langRestrict=en');let n=t.searchParams;document.getElementById("Drama").addEventListener("click",(()=>{document.querySelector(".books_container"),n.set("q","subject:Drama"),t.search=n.toString(),e(t.toString())}))}(),a.addEventListener("click",(e=>{const t=e.target;t.closest(".buyBtn")&&(u(t),d(t),i.style.opacity="1",t.style.opacity="1")})),u(),d(),function(){let e=localStorage.getItem("count");e&&(i.style.opacity="1",i.innerHTML=e)}()})();